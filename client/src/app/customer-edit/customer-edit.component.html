<mat-card>
    <form #customerForm="ngForm" (ngSubmit)="save(customerForm.value)">
        <mat-card-header>
            <mat-card-title>
                <h2>{{customer.id ? 'Alterar' : 'Criar'}} Cliente</h2>
            </mat-card-title>
        </mat-card-header>

        <mat-card-content>
            <input type="hidden" name="id" [(ngModel)]="customer.id">

            <mat-form-field>
                <input matInput placeholder="Nome" required
                    [(ngModel)]="customer.name" name="name" #name>
            </mat-form-field>

            <mat-form-field>
                <input type="number" matInput placeholder="Limite de crédito" required
                    [(ngModel)]="customer.creditLimit" name="creditLimit" #creditLimit>
            </mat-form-field>

            <mat-form-field>
                <mat-select placeholder="Risco de crédito" required
                    [(ngModel)]="customer.risk" name="risk" #risk>
                    <mat-option *ngFor="let risk of riskCategories" [value]="risk">{{ risk }}</mat-option>
                </mat-select>
            </mat-form-field>
        </mat-card-content>

        <mat-card-actions>
            <button mat-raised-button color="primary" type="submit" [disabled]="!customerForm.form.valid">Salvar</button>
            <button mat-raised-button color="secondary" (click)="remove(customer.id)" *ngIf="customer && customer.id" type="button">Excluir</button>
            <a mat-button routerLink="/customer-list">Cancelar</a>
        </mat-card-actions>
    </form>
</mat-card>
